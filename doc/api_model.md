# 模型接口API文档

### 概述

模型接口是标准的RESTful API，提供了对可以对于每个模型可以选用GET、POST、PUT、DELETE方法。

目前开放模型接口的模型有包括：`place`

下面分别说明每个方法调用的URL和传参形式。下面的URL中所有以`:`开头的是URL参数，会在各个接口中进行说明，所有的`:model`参数为模型名称，请使用模型名称替代。

### 查询列表（查询多条记录）

- URL：/api/:model/
- 方法：GET
- URL参数：
    - model：模型名称
- query参数：
    - skip：可省略，查询偏移量，默认值为0
    - take：可省略，查询记录数量，默认值为查询所有
    - sort：可省略，排序方式
    - filter：可省略，过滤条件
- 返回形式：
```json
[
    {
        "_id": "56e9047d69ae45dd10d41227",
        ...
    },
    ...
]
```

### 查询单条记录

- URL：/api/:model/:id
- 方法：GET
- URL参数：
    - model：模型名称
    - id：记录的id
- 返回形式：
```json
{
    "_id": "56e9047d69ae45dd10d41227",
    ...
}
```

### 新增记录

- URL：/api/:model/
- 方法：POST
- URL参数：
    - model：模型名称
- 请求体：要添加的对象（不需要带_id）
```json
{
    ...
}
- 返回形式：新添加的对象
```json
{
    "_id": "56e9047d69ae45dd10d41227",
    ...
}
```

### 修改记录

- URL：/api/:model/:id
- 方法：PUT
- URL参数：
    - model：模型名称
    - id：记录的id
- 请求体：修改后的对象，不需要带_id，如果某些属性不要修改，可以留空
```json
{
    ...
}
- 返回形式：修改前的对象
```json
{
    "_id": "56e9047d69ae45dd10d41227",
    ...
}
```

### 删除记录

- URL：/api/:model/:id
- 方法：DELETE
- URL参数：
    - model：模型名称
    - id：记录的id
- 返回形式：删除前的对象
```json
{
    "_id": "56e9047d69ae45dd10d41227",
    ...
}
```